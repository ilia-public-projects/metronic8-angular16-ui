<div class="modal-header">
    <h2 class="fw-bold">Edit user</h2>
    <div class="btn btn-icon btn-sm btn-active-icon-primary" (click)="closeModal()">
        <i class="ki-duotone ki-cross fs-1">
            <span class="path1"></span>
            <span class="path2"></span>
        </i>
    </div>
</div>
<div class="modal-body">
    <app-alert-danger [messages]="errors"></app-alert-danger>

    <app-modal-loading-indicator [isLoading]="isLoading"></app-modal-loading-indicator>

    <form [formGroup]="form" autocomplete="off" *ngIf="form">

        <div class="fv-row mb-7 fv-plugins-icon-container">
            <app-avatar-editor [photoUri]="photoUri" (photoChanged)="uploadPhoto($event)" [isSaving]="isSavingPhoto"></app-avatar-editor>
        </div>

        <div class="fv-row mb-7 fv-plugins-icon-container">
            <label class="required fs-6 fw-semibold mb-2">Name</label>
            <input type="text" class="form-control form-control-solid" formControlName="name">
            <div class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback" *ngIf="name!.touched && name!.invalid">
                <div>Value canot be blank!</div>
            </div>
        </div>

        <div class="fv-row mb-7 fv-plugins-icon-container">
            <label class="required fs-6 fw-semibold mb-2">Email</label>
            <input type="text" class="form-control form-control-solid" formControlName="email">
            <div class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback" *ngIf="email!.touched && email!.invalid">
                <div *ngIf="email!.errors!.required">Value canot be blank!</div>
                <div *ngIf="email!.errors!.email">Please enter a valid email!</div>
            </div>
        </div>

        <div class="fv-row mb-7 fv-plugins-icon-container">
            <div class="form-check form-switch form-switch-sm form-check-custom form-check-solid">
                <input formControlName="isActive" type="checkbox" class="form-check-input ng-pristine ng-valid ng-touched">
                <label class="form-check-label">Active</label>
            </div>
        </div>

    </form>

    <div class="modal-footer">
        <button type="button" class="btn  green-haze btn-outline pull-left" [disabled]="isSaving" (click)="save()">
            <span><i class="fa fa-fw" [ngClass]="isSaving ? 'fa-spinner fa-spin' : 'fa-save'"></i></span>&nbsp; Save
        </button>
        <button type="button" (click)="closeModal()" class="btn dark btn-outline">Close</button>
    </div>
</div>